<div class="light-gray center-content row">
  <div class="dark-gray h-700 item-1000 center-content">
    <div class="item-800 mt-20">
      <div class="mini-header">
        <h2>Отчет о пожаре в реальном времени</h2>
      </div>
      <div class="row space-between item-700 mt-20">
        <div class="row center">
          <span class="mr-2">{{"Год" }}:</span>

          <select class="ml-10" [(ngModel)]="yearId">
            <option *ngFor="let year of years" [value]="year.value">{{year.label}}</option>
          </select>
        </div>
        <div class="ml-10 row center">
          <span class="mr-2">{{"Месяц" }}:</span>
          <select class="ml-10" [(ngModel)]="monthId">
            <option *ngFor="let month of months" [value]="month.value">{{month.label}}</option>
          </select>
        </div>
        <div class="ml-10 row center">
          <span class="">{{"Сотрудник" }}:</span>
          <select class="ml-10" [(ngModel)]="employeeId">
            <option value="defaultEmployeeValue" disabled selected>Select an employee</option>
            <option *ngFor="let employee of employeeList" [value]="employee.employeeEmail">{{employee.firstName}} {{employee.lastName}}</option>
          </select>
        </div>
        <button class="item-90 h-30 dark-green1 white ml-10" (click)="findFire()">{{"Найти" }}</button>
      </div>
      <ng-container *ngIf="!listIsEmpty">
        <table class="item-800 center-text mt-20">
          <thead>
          <tr>
            <!-- Чтобы добавить треугольник добавьте класс .sort к блоку th.stable_hdr, чтобы перевернуть треугольник добавьте ещё и класс .up к тому же блоку -->
            <th class="stable_hdr">
              <div (click)="$event.preventDefault();">№</div>
            </th>
            <th class="stable_hdr">
              <div (click)="$event.preventDefault();">{{"Наименование" }}</div>
            </th>
            <th class="stable_hdr">
              <div (click)="$event.preventDefault();">{{"Член СК/РК" }}</div>
            </th>
            <th class="stable_hdr">
              <div (click)="$event.preventDefault();">{{"Тип мероприятия" }} </div>
            </th>
            <th class="stable_hdr">
              <div (click)="$event.preventDefault();">{{"Автор" }}</div>
            </th>
            <th class="stable_hdr">
              <div (click)="$event.preventDefault();">{{"Период проведения" }} </div>
            </th>
            <th class="stable_hdr">
              <div (click)="$event.preventDefault();">{{"Дата заседания" }} </div>
            </th>
          </tr>
          </thead>
          <tbody *ngIf="listFires && listFires.length === 0">
          <tr>
            <td colspan="7" class="text-center">{{"В перечне ещё нет аудиторских мероприятий" }}</td>
          </tr>
          </tbody>
          <tbody *ngIf="listFires && listFires.length">
          <tr *ngFor="let item of listFires; let i = index;" (click)="selectEvent(item); getDocumentPreview()" class="object-row" [class.selected-object]="currentFire && currentFire.id === item.id">
            <td>{{i + 1}}</td>
            <td>
              {{item.latitude}}
            </td>

          </tr>
          </tbody>

        </table>
      </ng-container>
      <ng-container *ngIf="currentFire">
        <div class="buttons">
          <button class="button">Создать</button>
          <button class="button" (click)="goToReadOnly();">Просмотр</button>
          <button class="button" (click)="goToEdit();">Изменить</button>
        </div>
        <div class="aisection_preview prepadoc">
          <ngx-extended-pdf-viewer [src]="reportPdf" [useBrowserLocale]="true" [height]="'552px'"></ngx-extended-pdf-viewer>
        </div>
      </ng-container>
    </div>
  </div>
</div>
